@import 'tailwindcss';
@import './styles/typography.css';
@import './styles/tailwind-colors.css';
@import './styles/decorative.css';
@import './styles/animate.css';

/* Base styles */
@layer base {
  :root {
    /* text */
    --ui-color-accent: var(--tw-orange-600);
    --ui-color-primary: var(--tw-stone-950);
    --ui-color-text-secondary: var(--tw-stone-700);
    --ui-color-text-tertiary: var(--tw-stone-500);
    --ui-color-text-placeholder: var(--tw-stone-400);
    --ui-color-text-disabled: var(--tw-stone-400);
    --ui-color-text-success: var(--tw-green-700);
    --ui-color-text-critical: var(--tw-red-600);
    --ui-color-text-warning: var(--tw-yellow-700);
    /* bg */
    --ui-color-bg-body: var(--tw-white);
    --ui-color-bg-accent: var(--ui-color-accent);
    --ui-color-bg-secondary: var(--tw-stone-50);
    --ui-color-bg-tertiary: var(--tw-stone-100);
    --ui-color-bg-interactive: var(--tw-white);
    --ui-color-bg-success-muted: var(--tw-emerald-100);
    --ui-color-bg-critical-muted: var(--tw-red-100);
    --ui-color-bg-warning-muted: var(--tw-yellow-100);
    --ui-color-bg-elevated-on-dark: var(--tw-white);
    --ui-color-bg-contrast: var(--tw-stone-900);
    --ui-color-bg-critical: var(--tw-red-700);
    --ui-color-bg-disabled: var(--tw-stone-200);
    --ui-color-bg-muted: var(--tw-stone-200);
    --ui-color-bg-backdrop: color-mix(in oklab, var(--tw-black) 15%, transparent);
    /* border */
    --ui-color-border-default: var(--tw-stone-200);
    --ui-color-border-accent: var(--ui-color-accent);
    --ui-color-border-secondary: var(--tw-stone-100);
    --ui-color-border-contrast: var(--tw-stone-400);
    --ui-color-border-critical: var(--tw-red-500);
    /* Shadow colors */
    --ui-shadow-ring: rgba(0, 0, 0, 0.11);
    --ui-shadow-ring-light: rgba(255, 255, 255, 0.37);
    --ui-shadow-ring-accent: color-mix(in oklab, var(--tw-orange-700) 70%, transparent);
    --ui-shadow-ring-critical: var(--tw-red-800);
    --ui-color-focus-ring-accent: color-mix(in oklab, var(--ui-color-accent) 30%, transparent);
    @media (prefers-color-scheme: dark) {
      --ui-color-primary: var(--tw-stone-50);
      --ui-color-text-secondary: var(--tw-stone-400);
      --ui-color-text-tertiary: var(--tw-stone-600);
      --ui-color-text-placeholder: var(--tw-stone-500);
      --ui-color-text-success: var(--tw-green-400);
      --ui-color-text-critical: var(--tw-red-400);
      --ui-color-text-warning: var(--tw-yellow-400);

      --ui-color-bg-body: var(--tw-stone-950);
      --ui-color-bg-secondary: var(--tw-stone-900);
      --ui-color-bg-tertiary: var(--tw-stone-800);
      --ui-color-bg-interactive: var(--tw-stone-900);
      --ui-color-bg-muted: var(--tw-stone-700);
      --ui-color-bg-disabled: var(--tw-stone-800);
      --ui-color-bg-critical: var(--tw-red-800);
      --ui-color-bg-elevated-on-dark: var(--tw-stone-900);
      --ui-color-bg-contrast: var(--tw-stone-800);
      --ui-color-bg-backdrop: color-mix(in oklab, var(--tw-white) 10%, transparent);
      --ui-color-bg-success-muted: color-mix(in oklab, var(--tw-emerald-900) 60%, transparent);
      --ui-color-bg-critical-muted: color-mix(in oklab, var(--tw-red-900) 40%, transparent);
      --ui-color-bg-warning-muted: color-mix(in oklab, var(--tw-yellow-900) 20%, transparent);

      /* border */
      --ui-color-border-default: var(--tw-stone-800);
      --ui-color-border-secondary: var(--tw-stone-900);
      --ui-color-border-contrast: var(--tw-stone-700);
      --ui-color-border-critical: var(--tw-red-500);
      /* Shadow colors */
      --ui-shadow-ring: rgba(0, 0, 0, 0.11);
      --ui-shadow-ring-light: rgba(255, 255, 255, 0.22);
    }
  }
  body {
    @apply font-regular text-default caret-accent font-sans text-base antialiased dark:selection:bg-white/30;
  }
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-medium tracking-tight;
  }
}

@variant dark {
  &:where(.dark, .dark *) {
    @slot;
  }
  @media (prefers-color-scheme: dark) {
    &:where(.system, .system *) {
      @slot;
    }
  }
}

@theme {
  /* === Core Tokens === */

  /* Remove Tailwind defaults */
  /* --color-*: initial; */
  /* --font-*: initial; */
  /* --font-weight-*: initial; */
  /* --text-*: initial; */
  /* --shadow-*: initial; */
  /* --gradient-*: initial; */
  /* --leading-*: initial; */
  /* --radius-*: initial; */

  /* === Border Radius Tokens === */
  --radius-none: 0;
  --radius-sm: 0.312rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-circular: 9999px;

  /* === Shadow Tokens === */
  --shadow-none: none;
  --shadow-interactive:
    0px 1px 0px 0px rgba(255, 255, 255, 0.11) inset, 0px 0px 0px 1px rgba(255, 255, 255, 0.04) inset,
    0px 1px 0px 0px rgba(0, 0, 0, 0.02), 0px 2px 3px -1px rgba(0, 0, 0, 0.08), 0px 0px 0px 1px rgba(0, 0, 0, 0.07);

  --shadow-base: 0 1px 3px rgba(0, 0, 0, 0.1);

  --shadow-overlay: 0 12px 24px rgba(0, 0, 0, 0.2);
}

@theme inline {
  --shadow-input: 0px 2px 2px -1px rgba(0, 0, 0, 0.05), 0px 0px 0px 1px var(--ui-shadow-ring) inset;
  --shadow-input-hover: 0px 2px 2px -1px rgba(0, 0, 0, 0.05), 0px 0px 0px 1px var(--ui-shadow-ring) inset;
  --shadow-floating:
    0px 0px 0px 1px var(--ui-shadow-ring) inset, 0px 4px 8px 0px rgba(0, 0, 0, 0.08),
    0px 8px 16px 0px rgba(0, 0, 0, 0.08);
  --shadow-error:
    0px 0px 0px 1px var(--ui-color-border-critical) inset, 0px 0px 0px 3px var(--ui-color-bg-red-muted),
    0px 8px 16px 0px rgba(0, 0, 0, 0.08);

  --color-white: var(--tw-white);
  --color-black: var(--stone-950);
  --color-accent: var(--ui-color-accent);
  /* Text */
  --text-color-default: var(--ui-color-primary);
  --text-color-secondary: var(--ui-color-text-secondary);
  --text-color-tertiary: var(--ui-color-text-tertiary);
  --text-color-placeholder: var(--ui-color-text-placeholder);
  --text-color-success: var(--ui-color-text-success);
  --text-color-critical: var(--ui-color-text-critical);
  --text-color-warning: var(--ui-color-text-warning);
  --text-color-disabled: var(--ui-color-text-disabled);
  /* bg */
  --background-color-body: var(--ui-color-bg-body);
  --background-color-elevated-on-dark: var(--ui-color-bg-elevated-on-dark);
  --background-color-secondary: var(--ui-color-bg-secondary);
  --background-color-tertiary: var(--ui-color-bg-tertiary);
  --background-color-muted: var(--ui-color-bg-muted);
  --background-color-contrast: var(--ui-color-bg-contrast);
  --background-color-interactive: var(--ui-color-bg-interactive);
  --background-color-success-muted: var(--ui-color-bg-success-muted);
  --background-color-critical-muted: var(--ui-color-bg-critical-muted);
  --background-color-warning-muted: var(--ui-color-bg-warning-muted);
  --background-color-critical: var(--ui-color-bg-critical);
  --background-color-backdrop: var(--ui-color-bg-backdrop);
  --background-color-disabled: var(--ui-color-bg-disabled);
  /* border */
  --border-color-default: var(--ui-color-border-default);
  --border-color-accent: var(--ui-color-border-accent);
  --border-color-secondary: var(--ui-color-border-secondary);
  --border-color-contrast: var(--ui-color-border-contrast);
  --border-color-critical: var(--ui-color-border-critical);
}

/* Focus state for the buttons and other actions */
@utility focus-ring {
  @apply focus-visible:ring-accent/60 dark:focus-visible:ring-accent ring-offset-[var(--ui-color-bg-body)] outline-none focus-visible:ring-2 focus-visible:ring-offset-2 dark:focus-visible:ring-1;
}

/* Focus state for inputs,textarea, select */
@utility focus-ring-input {
  @apply outline-none focus-visible:shadow-[0_0_0_1px_rgba(0,0,0,0.18)_inset,0_0_0_2px_rgba(0,0,0,0.08)] focus-visible:outline-none dark:focus-visible:shadow-[0_0_0_1px_rgba(255,255,255,0.30)_inset,0_0_0_3px_rgba(255,255,255,0.15)];
}
